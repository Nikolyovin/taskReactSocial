{"ast":null,"code":"const ADD_MESSAGE = 'ADD_MESSAGE';\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\nlet initialState = {\n  //в каждом редйюсере свой initialState\n  messages: [{\n    id: 1,\n    who: 'myMessage',\n    text: 'Hi'\n  }, {\n    id: 2,\n    who: 'myMessage',\n    text: 'How are you?'\n  }, {\n    id: 3,\n    who: 'heMessage',\n    text: 'Good'\n  }, {\n    id: 4,\n    who: 'myMessage',\n    text: 'What are you doing?'\n  }, {\n    id: 5,\n    who: 'heMessage',\n    text: 'I\\'m going to workout'\n  }],\n  newMessageText: 'new message',\n  dialogs: [{\n    id: 1,\n    name: 'Dimych',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQt1wlTDFXbBVgGSqKGrt83uwlgjNg9KdFVhw&usqp=CAU'\n  }, {\n    id: 2,\n    name: 'Andrey',\n    img: 'https://avatars.mds.yandex.net/get-zen_doc/1328418/pub_5ab6096877d0e6d894e85a60_5ab6099e20ea2b70d1c77a6f/scale_1200'\n  }, {\n    id: 3,\n    name: 'Sveta',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuNla357t0PEDFb0mlbOwWf4ngmOcAI_52mA&usqp=CAU'\n  }, {\n    id: 4,\n    name: 'Sasha',\n    img: 'https://avatarko.ru/img/kartinka/2/zhivotnye_kot_prikol_ochki_1637.jpg'\n  }, {\n    id: 5,\n    name: 'Victor',\n    img: 'https://avatarko.ru/img/kartinka/1/Crazy_Frog.jpg'\n  }, {\n    id: 6,\n    name: 'Valera',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH3giZKW-NAcx_NiKq0ubjTVXrpSl6m1HBlw&usqp=CAU'\n  }]\n};\n\nconst dialogsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  //state по умолчанию равен initialState\n  switch (action.type) {\n    case ADD_MESSAGE:\n      {\n        return { ...state,\n          //делаем копию state, чтобы в ней вносить изменения                                          \n          newMessageText: '',\n          //делаем пустую строку после отправки сообщения\n          messages: [...state.messages, {\n            id: 7,\n            who: 'myMessage',\n            text: state.newMessageText\n          }] //делаем копию массива в котором будут изменения + добавляем новое сообщение\n\n        };\n      }\n\n    case UPDATE_NEW_MESSAGE_TEXT:\n      return { ...state,\n        newMessageText: action.newMsg //сохраняем новый state\n\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default dialogsReducer;\nexport const addMessageActionCreator = () => ({\n  type: ADD_MESSAGE\n}); //экспортируем экшн, где в типе ADD_MESSAGE, который потом придет в редюсер\n\nexport const updateNewMessageTextActionCreator = text => ({\n  type: UPDATE_NEW_MESSAGE_TEXT,\n  newMsg: text\n});","map":{"version":3,"sources":["/home/niko/projects/01-first-project/my-app/src/redux/dialogs-reducer.js"],"names":["ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","initialState","messages","id","who","text","newMessageText","dialogs","name","img","dialogsReducer","state","action","type","newMsg","addMessageActionCreator","updateNewMessageTextActionCreator"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAApB;AACA,MAAMC,uBAAuB,GAAG,yBAAhC;AAEA,IAAIC,YAAY,GAAG;AAA0C;AAC1DC,EAAAA,QAAQ,EAAE,CACP;AAAEC,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,GAAG,EAAE,WAAd;AAA2BC,IAAAA,IAAI,EAAE;AAAjC,GADO,EAEP;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,GAAG,EAAE,WAAd;AAA2BC,IAAAA,IAAI,EAAE;AAAjC,GAFO,EAGP;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,GAAG,EAAE,WAAd;AAA2BC,IAAAA,IAAI,EAAE;AAAjC,GAHO,EAIP;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,GAAG,EAAE,WAAd;AAA2BC,IAAAA,IAAI,EAAE;AAAjC,GAJO,EAKP;AAAEF,IAAAA,EAAE,EAAE,CAAN;AAASC,IAAAA,GAAG,EAAE,WAAd;AAA2BC,IAAAA,IAAI,EAAE;AAAjC,GALO,CADM;AAQhBC,EAAAA,cAAc,EAAE,aARA;AAShBC,EAAAA,OAAO,EAAE,CACN;AAAEJ,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,QAAf;AAAyBC,IAAAA,GAAG,EAAE;AAA9B,GADM,EAEN;AAAEN,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,QAAf;AAAyBC,IAAAA,GAAG,EAAE;AAA9B,GAFM,EAGN;AAAEN,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,OAAf;AAAwBC,IAAAA,GAAG,EAAE;AAA7B,GAHM,EAIN;AAAEN,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,OAAf;AAAwBC,IAAAA,GAAG,EAAE;AAA7B,GAJM,EAKN;AAAEN,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,QAAf;AAAyBC,IAAAA,GAAG,EAAE;AAA9B,GALM,EAMN;AAAEN,IAAAA,EAAE,EAAE,CAAN;AAASK,IAAAA,IAAI,EAAE,QAAf;AAAyBC,IAAAA,GAAG,EAAE;AAA9B,GANM;AATO,CAAnB;;AAqBA,MAAMC,cAAc,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAAkB;AAExE,UAAQA,MAAM,CAACC,IAAf;AACG,SAAKd,WAAL;AAAiB;AACd,eAAO,EACJ,GAAGY,KADC;AAC4C;AAChDL,UAAAA,cAAc,EAAC,EAFX;AAE4C;AAChDJ,UAAAA,QAAQ,EAAC,CAAC,GAAGS,KAAK,CAACT,QAAV,EAAoB;AAACC,YAAAA,EAAE,EAAC,CAAJ;AAAOC,YAAAA,GAAG,EAAC,WAAX;AAAwBC,YAAAA,IAAI,EAACM,KAAK,CAACL;AAAnC,WAApB,CAHL,CAG+E;;AAH/E,SAAP;AAMF;;AACD,SAAKN,uBAAL;AACG,aAAQ,EAAC,GAAGW,KAAJ;AACRL,QAAAA,cAAc,EAACM,MAAM,CAACE,MADd,CACwC;;AADxC,OAAR;;AAIH;AACG,aAAOH,KAAP;AAfN;AAkBF,CApBD;;AAsBA,eAAeD,cAAf;AACA,OAAO,MAAMK,uBAAuB,GAAG,OAAO;AAAEF,EAAAA,IAAI,EAAEd;AAAR,CAAP,CAAhC,C,CAAwE;;AAC/E,OAAO,MAAMiB,iCAAiC,GAAIX,IAAD,KAAW;AAAEQ,EAAAA,IAAI,EAAEb,uBAAR;AAAiCc,EAAAA,MAAM,EAAET;AAAzC,CAAX,CAA1C","sourcesContent":["const ADD_MESSAGE = 'ADD_MESSAGE'\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT'\r\n\r\nlet initialState = {                                         //в каждом редйюсере свой initialState\r\n   messages: [\r\n      { id: 1, who: 'myMessage', text: 'Hi' },\r\n      { id: 2, who: 'myMessage', text: 'How are you?' },\r\n      { id: 3, who: 'heMessage', text: 'Good' },\r\n      { id: 4, who: 'myMessage', text: 'What are you doing?' },\r\n      { id: 5, who: 'heMessage', text: 'I\\'m going to workout' },\r\n   ],\r\n   newMessageText: 'new message',\r\n   dialogs: [\r\n      { id: 1, name: 'Dimych', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQt1wlTDFXbBVgGSqKGrt83uwlgjNg9KdFVhw&usqp=CAU' },\r\n      { id: 2, name: 'Andrey', img: 'https://avatars.mds.yandex.net/get-zen_doc/1328418/pub_5ab6096877d0e6d894e85a60_5ab6099e20ea2b70d1c77a6f/scale_1200' },\r\n      { id: 3, name: 'Sveta', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuNla357t0PEDFb0mlbOwWf4ngmOcAI_52mA&usqp=CAU' },\r\n      { id: 4, name: 'Sasha', img: 'https://avatarko.ru/img/kartinka/2/zhivotnye_kot_prikol_ochki_1637.jpg' },\r\n      { id: 5, name: 'Victor', img: 'https://avatarko.ru/img/kartinka/1/Crazy_Frog.jpg' },\r\n      { id: 6, name: 'Valera', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH3giZKW-NAcx_NiKq0ubjTVXrpSl6m1HBlw&usqp=CAU' }\r\n   ]\r\n}\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {                 //state по умолчанию равен initialState\r\n\r\n   switch (action.type) {\r\n      case ADD_MESSAGE:{\r\n         return {\r\n            ...state,                                       //делаем копию state, чтобы в ней вносить изменения                                          \r\n            newMessageText:'',                              //делаем пустую строку после отправки сообщения\r\n            messages:[...state.messages, {id:7, who:'myMessage', text:state.newMessageText}],  //делаем копию массива в котором будут изменения + добавляем новое сообщение\r\n         }                          \r\n        \r\n      }\r\n      case UPDATE_NEW_MESSAGE_TEXT:\r\n         return  {...state,\r\n         newMessageText:action.newMsg                    //сохраняем новый state\r\n   }\r\n         \r\n      default:\r\n         return state\r\n   }\r\n\r\n}\r\n\r\nexport default dialogsReducer\r\nexport const addMessageActionCreator = () => ({ type: ADD_MESSAGE })           //экспортируем экшн, где в типе ADD_MESSAGE, который потом придет в редюсер\r\nexport const updateNewMessageTextActionCreator = (text) => ({ type: UPDATE_NEW_MESSAGE_TEXT, newMsg: text })"]},"metadata":{},"sourceType":"module"}