{"ast":null,"code":"const ADD_MESSAGE = 'ADD_MESSAGE';\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT';\nlet initialState = {\n  //в каждом редйюсере свой initialState\n  messages: [{\n    id: 1,\n    who: 'myMessage',\n    text: 'Hi'\n  }, {\n    id: 2,\n    who: 'myMessage',\n    text: 'How are you?'\n  }, {\n    id: 3,\n    who: 'heMessage',\n    text: 'Good'\n  }, {\n    id: 4,\n    who: 'myMessage',\n    text: 'What are you doing?'\n  }, {\n    id: 5,\n    who: 'heMessage',\n    text: 'I\\'m going to workout'\n  }],\n  newMessageText: 'new message',\n  dialogs: [{\n    id: 1,\n    name: 'Dimych',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQt1wlTDFXbBVgGSqKGrt83uwlgjNg9KdFVhw&usqp=CAU'\n  }, {\n    id: 2,\n    name: 'Andrey',\n    img: 'https://avatars.mds.yandex.net/get-zen_doc/1328418/pub_5ab6096877d0e6d894e85a60_5ab6099e20ea2b70d1c77a6f/scale_1200'\n  }, {\n    id: 3,\n    name: 'Sveta',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuNla357t0PEDFb0mlbOwWf4ngmOcAI_52mA&usqp=CAU'\n  }, {\n    id: 4,\n    name: 'Sasha',\n    img: 'https://avatarko.ru/img/kartinka/2/zhivotnye_kot_prikol_ochki_1637.jpg'\n  }, {\n    id: 5,\n    name: 'Victor',\n    img: 'https://avatarko.ru/img/kartinka/1/Crazy_Frog.jpg'\n  }, {\n    id: 6,\n    name: 'Valera',\n    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH3giZKW-NAcx_NiKq0ubjTVXrpSl6m1HBlw&usqp=CAU'\n  }]\n};\n\nconst dialogsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  //state по умолчанию равен initialState\n  switch (action.type) {\n    case ADD_MESSAGE:\n      {\n        return { ...state,\n          //делаем копию state, чтобы в ней вносить изменения                                          \n          newMessageText: '',\n          //делаем пустую строку после отправки сообщения\n          messages: [...state.messages, {\n            id: 7,\n            who: 'myMessage',\n            text: state.newMessageText\n          }] //делаем копию массива в котором будут изменения + добавляем новое сообщение\n\n        };\n      }\n\n    case UPDATE_NEW_MESSAGE_TEXT:\n      return { ...state,\n        newMessageText: action.newMsg //сохраняем новый state\n\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default dialogsReducer;\nexport const addMessageActionCreator = () => ({\n  type: ADD_MESSAGE\n}); //экспортируем экшн, где в типе ADD_MESSAGE, который потом придет в редюсер\n\nexport const updateNewMessageTextActionCreator = text => ({\n  type: UPDATE_NEW_MESSAGE_TEXT,\n  newMsg: text\n});","map":{"version":3,"names":["ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","initialState","messages","id","who","text","newMessageText","dialogs","name","img","dialogsReducer","state","action","type","newMsg","addMessageActionCreator","updateNewMessageTextActionCreator"],"sources":["D:/USER/#/projects/taskReactSocial/taskReactSocial/src/redux/dialogs-reducer.js"],"sourcesContent":["const ADD_MESSAGE = 'ADD_MESSAGE'\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE_NEW_MESSAGE_TEXT'\r\n\r\nlet initialState = {                                         //в каждом редйюсере свой initialState\r\n   messages: [\r\n      { id: 1, who: 'myMessage', text: 'Hi' },\r\n      { id: 2, who: 'myMessage', text: 'How are you?' },\r\n      { id: 3, who: 'heMessage', text: 'Good' },\r\n      { id: 4, who: 'myMessage', text: 'What are you doing?' },\r\n      { id: 5, who: 'heMessage', text: 'I\\'m going to workout' },\r\n   ],\r\n   newMessageText: 'new message',\r\n   dialogs: [\r\n      { id: 1, name: 'Dimych', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQt1wlTDFXbBVgGSqKGrt83uwlgjNg9KdFVhw&usqp=CAU' },\r\n      { id: 2, name: 'Andrey', img: 'https://avatars.mds.yandex.net/get-zen_doc/1328418/pub_5ab6096877d0e6d894e85a60_5ab6099e20ea2b70d1c77a6f/scale_1200' },\r\n      { id: 3, name: 'Sveta', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuNla357t0PEDFb0mlbOwWf4ngmOcAI_52mA&usqp=CAU' },\r\n      { id: 4, name: 'Sasha', img: 'https://avatarko.ru/img/kartinka/2/zhivotnye_kot_prikol_ochki_1637.jpg' },\r\n      { id: 5, name: 'Victor', img: 'https://avatarko.ru/img/kartinka/1/Crazy_Frog.jpg' },\r\n      { id: 6, name: 'Valera', img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTH3giZKW-NAcx_NiKq0ubjTVXrpSl6m1HBlw&usqp=CAU' }\r\n   ]\r\n}\r\n\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {                 //state по умолчанию равен initialState\r\n\r\n   switch (action.type) {\r\n      case ADD_MESSAGE:{\r\n         return {\r\n            ...state,                                       //делаем копию state, чтобы в ней вносить изменения                                          \r\n            newMessageText:'',                              //делаем пустую строку после отправки сообщения\r\n            messages:[...state.messages, {id:7, who:'myMessage', text:state.newMessageText}],  //делаем копию массива в котором будут изменения + добавляем новое сообщение\r\n         }                          \r\n        \r\n      }\r\n      case UPDATE_NEW_MESSAGE_TEXT:\r\n         return  {...state,\r\n         newMessageText:action.newMsg                    //сохраняем новый state\r\n   }\r\n         \r\n      default:\r\n         return state\r\n   }\r\n\r\n}\r\n\r\nexport default dialogsReducer\r\nexport const addMessageActionCreator = () => ({ type: ADD_MESSAGE })           //экспортируем экшн, где в типе ADD_MESSAGE, который потом придет в редюсер\r\nexport const updateNewMessageTextActionCreator = (text) => ({ type: UPDATE_NEW_MESSAGE_TEXT, newMsg: text })"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAApB;AACA,MAAMC,uBAAuB,GAAG,yBAAhC;AAEA,IAAIC,YAAY,GAAG;EAA0C;EAC1DC,QAAQ,EAAE,CACP;IAAEC,EAAE,EAAE,CAAN;IAASC,GAAG,EAAE,WAAd;IAA2BC,IAAI,EAAE;EAAjC,CADO,EAEP;IAAEF,EAAE,EAAE,CAAN;IAASC,GAAG,EAAE,WAAd;IAA2BC,IAAI,EAAE;EAAjC,CAFO,EAGP;IAAEF,EAAE,EAAE,CAAN;IAASC,GAAG,EAAE,WAAd;IAA2BC,IAAI,EAAE;EAAjC,CAHO,EAIP;IAAEF,EAAE,EAAE,CAAN;IAASC,GAAG,EAAE,WAAd;IAA2BC,IAAI,EAAE;EAAjC,CAJO,EAKP;IAAEF,EAAE,EAAE,CAAN;IAASC,GAAG,EAAE,WAAd;IAA2BC,IAAI,EAAE;EAAjC,CALO,CADM;EAQhBC,cAAc,EAAE,aARA;EAShBC,OAAO,EAAE,CACN;IAAEJ,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,QAAf;IAAyBC,GAAG,EAAE;EAA9B,CADM,EAEN;IAAEN,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,QAAf;IAAyBC,GAAG,EAAE;EAA9B,CAFM,EAGN;IAAEN,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,OAAf;IAAwBC,GAAG,EAAE;EAA7B,CAHM,EAIN;IAAEN,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,OAAf;IAAwBC,GAAG,EAAE;EAA7B,CAJM,EAKN;IAAEN,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,QAAf;IAAyBC,GAAG,EAAE;EAA9B,CALM,EAMN;IAAEN,EAAE,EAAE,CAAN;IAASK,IAAI,EAAE,QAAf;IAAyBC,GAAG,EAAE;EAA9B,CANM;AATO,CAAnB;;AAqBA,MAAMC,cAAc,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBV,YAAyB;EAAA,IAAXW,MAAW;;EAAkB;EAExE,QAAQA,MAAM,CAACC,IAAf;IACG,KAAKd,WAAL;MAAiB;QACd,OAAO,EACJ,GAAGY,KADC;UAC4C;UAChDL,cAAc,EAAC,EAFX;UAE4C;UAChDJ,QAAQ,EAAC,CAAC,GAAGS,KAAK,CAACT,QAAV,EAAoB;YAACC,EAAE,EAAC,CAAJ;YAAOC,GAAG,EAAC,WAAX;YAAwBC,IAAI,EAACM,KAAK,CAACL;UAAnC,CAApB,CAHL,CAG+E;;QAH/E,CAAP;MAMF;;IACD,KAAKN,uBAAL;MACG,OAAQ,EAAC,GAAGW,KAAJ;QACRL,cAAc,EAACM,MAAM,CAACE,MADd,CACwC;;MADxC,CAAR;;IAIH;MACG,OAAOH,KAAP;EAfN;AAkBF,CApBD;;AAsBA,eAAeD,cAAf;AACA,OAAO,MAAMK,uBAAuB,GAAG,OAAO;EAAEF,IAAI,EAAEd;AAAR,CAAP,CAAhC,C,CAAwE;;AAC/E,OAAO,MAAMiB,iCAAiC,GAAIX,IAAD,KAAW;EAAEQ,IAAI,EAAEb,uBAAR;EAAiCc,MAAM,EAAET;AAAzC,CAAX,CAA1C"},"metadata":{},"sourceType":"module"}